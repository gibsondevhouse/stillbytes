# Concept of Operations (CONOPS): Stillbytes

## 1. Project Vision

**Stillbytes** is an AI-native, local-first RAW photo editor designed for high-performance desktop workflows. It aims to provide a professional alternative to subscription-based models (Lightroom Classic) by leveraging local GPU acceleration and state-of-the-art AI.

### Core Philosophy

- **AI-First**: 100% of production code is generated by AI agents; humans act as architects and reviewers.
- **Local-First**: No cloud lock-in. Full RAW processing, LLMs, and Generative AI (ComfyUI) run on the user's hardware.
- **High Density**: UI mimics professional tools (LrC) with compact layouts and precise control.

---

## 2. Integrated AI Ecosystem

Stillbytes is built using a multi-agent orchestration strategy. Each AI tool occupies a specific "battle station" in the development lifecycle.

### A. The CLI Layer (The "Hands")

Used for real-time code manipulation, system debugging, and execution.

#### **Gemini CLI**

- **Role**: Contextual debugger and shell navigator.
- **Integration**:
  - Pipe test logs directly: `npm test | gemini "Explain this failure and fix the source file"`
  - Research access: `gemini "@devdocs/research/lr_perf_research.md summarize the VRAM tiling strategy"`
- **Workflow**: Open in a persistent terminal split to handle ad-hoc scripting and file cleanup.

#### **Claude Code**

- **Role**: Refactoring specialist and architectural reviewer.
- **Integration**:
  - Launch with `claude` in the project root.
  - Use for complex multi-file refactors (e.g., "Refactor the IPC communication to use a standard request/response pattern").
- **Workflow**: Use for "deep dives" into code logic where high-reasoning stability is required.

### B. The Desktop Layer (The "Architects")

Used for workspace management, broad feature planning, and UI design.

#### **ChatGPT Plus (Desktop)**

- **Role**: Creative lead and UI/UX ideation.
- **Integration**:
  - Keep screensnips of Lightroom/Capture One active in the sidebar.
  - Use for generating Tailwind tokens and layout structures.
- **Workflow**: Primary "pair programmer" for front-end aesthetics and boilerplate generation.

#### **Microsoft Copilot**

- **Role**: Documentation and System Integration specialist.
- **Integration**: Use for mapping Windows-specific Electron behaviors and Win32 API interactions.
- **Workflow**: Secondary verification tool for OS-level performance tuning.

#### **Perplexity**

- **Role**: Deep Technical Research.
- **Integration**:
  - Feed it specific research prompts (e.g., `devdocs/research/lightroom_performance_prompt.md`).
  - Use for finding latest library updates (e.g., newest ComfyUI nodes or LibRaw bindings).
- **Workflow**: Periodic research sprints to stay at the cutting edge of RAW processing and local AI.

### C. The Web Layer (The "Oracle")

#### **DeepSeek Web (R1/v3)**

- **Role**: Logic puzzles, data structure optimization, and "Red Teaming".
- **Integration**:
  - Paste complex algorithms (like the canvas tile engine) to find edge-case bugs.
  - Highly efficient for low-level C++/Rust logic needed for performance modules.
- **Workflow**: Use when stuck on a mathematical or performance logic problem that requires high "pure reasoning" scores.

---

## 3. Operational Workflow (The "Loop")

1. **Phase 1: Research (Perplexity)**: Identify the technical path (e.g., how to use SAM on 12GB VRAM). Save results to `devdocs/research/`.
2. **Phase 2: Architecture (ChatGPT/CONOPS)**: Update this file and the `task.md` to define the plan.
3. **Phase 3: Implementation (IDE Assistant)**: Generate the core code, components, and tests.
4. **Phase 4: Refinement (CLI)**: Use `gemini` or `claude` to fix linting, optimize logic, and commit changes.
5. **Phase 5: Verification (DeepSeek)**: Critique the implementation for performance bottlenecks.

---

## 4. Integration Guidelines for Agents

### Instructions for AI Agents (The System Prompt)

When acting as an agent on this project, always:

1. **Read the Research**: Never guess on performance; check `devdocs/research/`.
2. **Maintain High Density**: Follow the `pro` color palette and Lightroom-esque spacing tokens.
3. **Update the CONOPS**: If a new tool or strategy is introduced, log it here.
4. **Stay Local**: Do not recommend cloud-based APIs (OpenAI DALL-E, etc.) for app functionality. Everything must lead back to the local ComfyUI/Node backend.

---

## 5. Directory Structure for Operations

- `.agent/`: Workflows and instructions for automated agents.
- `devdocs/research/`: Technical analysis and benchmarks.
- `devdocs/project/`: High-level vision and roadmap.
- `src/services/`: Core logic (ImageEditor, AIBridge, etc.).
